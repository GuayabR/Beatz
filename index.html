<!doctype html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <title>Beatz 3.6!</title>
        <link rel="icon" type="image/x-icon" href="Resources/favicon.png" />
        <link rel="stylesheet" type="text/css" href="styles.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />
    </head>
    <body>
        <canvas id="myCanvas" width="1280" height="720"></canvas>
        <div id="unsupportedMessage" style="display: none">
            Aye! Thanks for checking out Beatz.io, unfortunately, your device does not support the HTML5 Canvas, therefore, Beatz.io can not start. Mobile
            support will be added to Beatz soon!
        </div>
        <h1>Beatz.io</h1>

        <button id="startButton" style="display: none">Play! <i class="fa-solid fa-play"></i></button>
        <button id="myYoutube" style="display: none" onclick="NewTab()"><i class="fa-brands fa-youtube"></i></button>
        <button id="toggleNoteStyleButton" style="display: none">
            <i class="fa-solid fa-arrow-up" style="display: none"></i>
            <i class="fa-solid fa-circle" style="display: none"></i>
        </button>
        <button id="previousButton" style="display: none"><i class="fa-solid fa-backward-fast"></i></button>
        <button id="restartButton" style="display: none"><i class="fa-solid fa-repeat"></i></button>
        <button id="randomizeButton" style="display: none"><i class="fa-solid fa-shuffle"></i></button>
        <button id="nextButton" style="display: none"><i class="fa-solid fa-forward-fast"></i></button>
        <button id="toggleAutoHit" style="display: none">Toggle Auto Hit</button>
        <button id="fullscreen" style="display: none" onclick="toggleFullScreen()"><i class="fa-solid fa-expand"></i></button>
        <button id="debugButton" style="display: none"><i class="fa-solid fa-robot"></i></button>
        <button id="keybindsButton" style="display: none"><i class="fa-solid fa-gear"></i></button><br /><br />

        <button id="openSongListBTN"><i class="fa-solid fa-music"></i> Song list!</button>

        <!-- The Modal -->
        <div id="keybindsModal" class="modal">
            <div class="modal-content">
                <span id="closeSettings" class="close"><i class="fa-solid fa-xmark"></i></span>

                <button id="resetKeybindsButton" class="keybind-button reset-keybinds"><i class="fa-solid fa-rotate"></i></button>

                <button id="redoKeybindsButton" class="keybind-button redo-keybinds"><i class="fa-solid fa-rotate-right"></i></button>

                <button id="undoKeybindsButton" class="keybind-button undo-keybinds"><i class="fa-solid fa-rotate-left"></i></button>

                <button id="presetSettingsButton" class="keybind-button preset-settings"><i class="fa-solid fa-screwdriver-wrench"></i></button>

                <h1>Customize Settings!</h1>

                <form id="keybindsForm">
                    <label for="up">Note Left:</label>
                    <input type="text" id="left" name="left" />
                    <label for="left">Note Up:</label>
                    <input type="text" id="up" name="up" /><br /><br />

                    <label for="down">Note Down:</label>
                    <input type="text" id="down" name="down" />

                    <label for="right">Note Right:</label>
                    <input type="text" id="right" name="right" /><br /><br />

                    <label for="pause">Pause Game:</label>
                    <input type="text" id="pause" name="pause" />

                    <label for="autoHit">Toggle Auto Hit:</label>
                    <input type="text" id="autoHit" name="autoHit" /><br /><br />

                    <label for="fullscreenInput">Fullscreen:</label>
                    <input type="text" id="fullscreenInput" name="fullscreen" /><br /><br />

                    <label for="previousInput">Previous Song:</label>
                    <input type="text" id="previousInput" name="previous" />

                    <label for="restartInput">Restart Song:</label>
                    <input type="text" id="restartInput" name="restart" />

                    <label for="nextButton">Next Song:</label>
                    <input type="text" id="nextInput" name="next" /><br /><br />

                    <label for="randomize">Randomize Song:</label>
                    <input type="text" id="randomize" name="randomize" /><br /><br />

                    <label for="songTimeoutAfterSongEnd">Restart song after it ends?</label>
                    <input type="checkbox" id="songTimeoutAfterSongEnd" name="songTimeoutSongEnd" />

                    <label id="numTimeout" for="songTimeoutAfterSongEndNum">Delay:</label>
                    <input type="text" id="songTimeoutAfterSongEndNum" placeholder="Value in milliseconds" name="songTimeoutSongEndNum" /><br /><br />

                    <label for="toggleNoteStyleInput">Toggle Note Style:</label>
                    <input type="text" id="toggleNoteStyleInput" name="toggleNoteStyle" /><br /><br />

                    <label for="defaultNoteStyle">Default Note Style:</label>
                    <select id="defaultNoteStyle" name="defaultNoteStyle">
                        <option value="arrows">Arrows</option>
                        <option value="circles">Circles</option>
                    </select>

                    <label for="defaultHitSound">Hit Sound:</label>
                    <select id="defaultHitSound" name="hitSoundSelector">
                        <option value="defaultHit">Osu Hit Sound</option>
                        <option value="mcHit">Minecraft Hit Sound</option>
                        <option value="hitMarker">CoD Hitmarker Sound</option>
                        <option value="clickHit">Click Hit Sound</option>
                    </select>
                    <br /><br />

                    <label for="debugInput">Debug:</label>
                    <input type="text" id="debugInput" name="debug" /><br /><br />

                    <label for="logKeys">Log Keys to Console</label>
                    <input type="checkbox" id="logKeys" onclick="toggleKeyLogger()" /><br />

                    <label for="circularImage">Circular Cover Images?</label>
                    <input type="checkbox" id="circularImage" name="circularImage" onchange="toggleVinylRotation()" />

                    <div id="vinylRotationContainer" style="display: none">
                        <label for="vinylRotation">Enable Cover Image Rotation:</label>
                        <input type="checkbox" id="vinylRotation" name="vinylRotation" />
                    </div>
                    <br /><br />

                    <label for="defaultBackground">Background image:</label>
                    <select id="defaultBackground" name="backgroundForCanvas">
                        <option value="defaultBG">Default (Uproxide)</option>
                        <option value="defaultBG2">Wavy chromatic</option>
                        <option value="defaultBG3">Dark orange sunset</option>
                        <option value="htmlBG">Copy HTML</option>
                        <option value="transparentBG">Transparent</option>
                        <option value="customBG">Custom background!</option></select
                    ><br /><br />

                    <label id="customBGLabel" for="customBGInput" style="display: none">Custom background image:</label>
                    <input type="file" id="customBGInput" accept="image/*" style="display: none" /><br /><br />

                    <label id="customTransparentBGblur" for="backdropBlurInput" style="display: none">Background blur:</label>
                    <input type="number" id="backdropBlurInput" style="display: none" /><br /><br />

                    <span id="settingsSaved" style="color: white; display: none">Settings saved!</span>
                    <button id="saveSettingsBtn" type="button">Save</button>
                </form>
            </div>
        </div>

        <div id="presetModal" class="modal">
            <div class="modal-content">
                <span id="closePresets" class="close"><i class="fa-solid fa-xmark"></i></span>

                <button id="resetKeybindsButton" class="keybind-button reset-keybinds"><i class="fa-solid fa-rotate"></i></button>

                <h1>Setting Presets</h1>

                <label for="presetGuayabR">Preset 1:</label>
                <button id="presetGuayabR" class="presetBTN">GuayabR</button><br /><br />

                <label for="presetVERIDIAN">Preset 2:</label>
                <button id="presetVERIDIAN" class="presetBTN">VERIDIAN</button><br /><br />

                <span id="presetDescription" style="color: white; display: none"></span>

                <h4><span id="presetSaved" style="color: white; display: none">Preset has been saved!</span></h4>

                <button id="applyPresetButton" class="apply-preset">Apply Preset</button>
            </div>
        </div>

        <div id="songVol" class="volume-control" style="display: none">
            <label for="songVolume">Song Volume</label>
            <input type="range" id="songVolume" name="songVolume" min="0" max="100" value="50" />
        </div>

        <div id="hitSoundVol" class="volume-control" style="display: none">
            <label id="hitSoundVol" for="hitSoundSlider">Hit Sound volume:</label>
            <input type="range" id="hitSoundSlider" name="hitSoundSlider" min="0" max="100" value="50" />
        </div>
        <br /><br />

        <div id="contactBtn">
            <button id="contactbtn" onclick="email()"><i class="fa-solid fa-envelope"></i> Contact</button>
        </div>

        <div id="publicToTestToggle"><button id="publicbtn" onclick="toVersion()">Open testing game</button><br /><br /></div>

        <h2>
            Background image from:
            <a
                href="https://github.com/Uproxide/Texture-Workshop/commit/457788213d900a980f559ae8f241febad3322bdd#diff-1dbd3c28454ab3b1596af576394661ba03597f51326dbbff288c6b8ccc353041"
                >Uproxide's "Texture Workshop"</a
            >
        </h2>
        <h2>Notes from: <a href="https://github.com/Simply-Love/Simply-Love-SM5?tab=readme-ov-file">Teejusb's "Simply Love" osu! mania skins</a></h2>
        <h3>If you are the artist of any of these songs, contact me through my email if you want them removed.</h3>
        <h3>Credit of the songs goes to their respective creators.</h3>
        <h3>Note that i am NOT making any money on this game, i just code occasionally for the fun of it. <3</h3>

        <div id="songListModal" class="modal">
            <div class="modal-content">
                <span id="closeSongListModal" class="close"><i class="fa-solid fa-xmark"></i></span>
                <div class="modal-header">
                    <h1 class="modal-title">Song List</h1>
                </div>
                <label for="songSearchInput">Search songs by keyword, index, or artist.</label><br /><br />
                <input type="text" id="songSearchInput" placeholder="Search..." oninput="filterSongs()" /><br /><br />
                <label id="resultsForSearch" style="display: none">Results found</label><br /><br />
                <button type="button" id="mostRecent" class="most-recent-button" style="display: none">Play most recent song</button>
                <label id="noResultsTXT" style="display: none">No results found for your search.</label><br /><br />
                <div class="modal-body" id="songList">
                    <!-- Song buttons will be dynamically inserted here -->
                </div>
            </div>
        </div>

        <!-- Selected Song Modal -->
        <div id="selectedSongModal" class="modal">
            <div class="modal-content">
                <span id="closeSelectedSongModal" class="close"><i class="fa-solid fa-xmark"></i></span>
                <h2 id="songTitle">Song Title</h2>
                <div class="row align-items-center">
                    <div class="col-auto">
                        <img id="songCoverImage" src="" alt="Cover Image not found or your browser doesn't support HTML5 images." class="img-fluid" />
                    </div>
                    <div class="col">
                        <p><strong>Artist:</strong> <span id="songArtist">Artist Name</span></p>
                        <p><strong>BPM:</strong> <span id="songBPM">120</span></p>
                        <p>
                            <span id="speedTXT"><strong>Note Speed:</strong></span> <span id="songSpeed">15.5</span>
                        </p>
                        <div id="versionDropdownContainer" style="display: none">
                            <label for="versionDropdown"><strong>Choose version:</strong></label>
                            <select id="versionDropdown"></select>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-primary" id="playSongButton">Play song!</button>
                </div>
            </div>
        </div>

        <script src="BeatzGameTesting.js"></script>
    </body>
</html>
